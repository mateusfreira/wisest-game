<section ng-controller="GameController as gameCtrl">

	<header> The Wisest Game </header>

	<aside class="team-one">

		<div class="team-info">
			<span class="team-name"> Single player </span>
			<span class="team-score" ng-bind="gameCtrl.score || '0'"></span>
		</div>

		<div class="player player-1">
			<img class="player-image" ng-src='{{"data:image/png;base64,"+gameCtrl.currentUser.icon}}'><!-- Inline block issue
			--><div class="player-info">Identicon
				<span class="player-name" data-ng-bind='gameCtrl.currentUser.first_name'></span>
				<span class="player-level"> Lvl. 27 </span>
			</div>
		</div>

		<div class="player player-2" ng-if="false">
			<img class="player-image" src="./assets/images/bbagins.png"><!-- Inline block issue
			--><div class="player-info">
				<span class="player-name"> bbagins </span>
				<span class="player-level"> Lvl. 99+ </span>
			</div>
		</div>
	</aside>

	<main ng-if="gameCtrl.currentQuestion">
		<div class="timer" ng-bind="gameCtrl.getTimerValue()"></div>

		<div class="question-text" ng-cloak>
			{{gameCtrl.currentQuestion.description}}
			<code
				class="question-code"
				ng-if="gameCtrl.currentQuestion.code"
				ng-bind="gameCtrl.currentQuestion.code"
			></code>
		</div>

		<div class="question-options" ng-if="!gameCtrl.currentResponse">
			<button
				ng-repeat="option in gameCtrl.currentQuestion.options"
				ng-bind="option"
				ng-click="gameCtrl.sendAnswer(option);"
				ng-disabled="!gameCtrl.pendingAnswer"
			></button>
		</div>

		<!-- TO REFACTORY THIS FUCKING SHIT -->
		<div class="question-options" ng-if="gameCtrl.currentResponse">
			<span
				ng-bind="gameCtrl.currentResponse.message"
				ng-class="{
					'success': gameCtrl.currentResponse.success,
					'error': !gameCtrl.currentResponse.success
				}"></span>
			<button ng-click="gameCtrl.nextQuestion();"> Next question </button>
		</div>

	</main>

</section>